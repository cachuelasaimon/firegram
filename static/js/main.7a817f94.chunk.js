(this.webpackJsonpfiregram=this.webpackJsonpfiregram||[]).push([[0],{16:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(1),r=c.n(a),s=c(17),i=c.n(s),u=(c(24),c(25),c(7));c(26);function o(e){return Object(n.jsx)("div",{className:"navigation",children:Object(n.jsxs)("div",{className:"nav-container",children:[Object(n.jsx)("div",{className:"logo",children:"Firegram"}),Object(n.jsxs)("div",{className:"links",children:[Object(n.jsx)("a",{href:"#",children:"Login"}),Object(n.jsx)("a",{href:"#",children:"SignUp"})]})]})})}var l=c(6),j=c.n(l),f=c(10),d=c(13),p=c(12);c(28),c(33),c(34);p.a.apps.length?p.a.app():p.a.initializeApp({apiKey:"AIzaSyCZsZBNOXiMRN1MEpIA5XW2M5coXBwNlkk",authDomain:"firegram-efff5.firebaseapp.com",projectId:"firegram-efff5",storageBucket:"firegram-efff5.appspot.com",messagingSenderId:"1047659849338",appId:"1:1047659849338:web:480fc244086afd36b27dc3"});p.a.auth();var b=p.a.firestore(),m=p.a.storage(),g=new p.a.auth.GoogleAuthProvider;g.setCustomParameters({prompt:"select_account"});var O=function(e){var t=e.file,c=e.setFile,r=function(e){var t=Object(a.useState)(0),c=Object(u.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(null),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(a.useState)(null),p=Object(u.a)(d,2),g=p[0],O=p[1];return Object(a.useEffect)((function(){var t=m.ref(e.name),c=b.collection("pictures");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;r(t)}),(function(e){l(e)}),Object(f.a)(j.a.mark((function n(){var a,r;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getDownloadURL();case 2:a=n.sent,r=new Date,c.add({url:a,createdAt:r,name:e.name}),O(a);case 6:case"end":return n.stop()}}),n)}))))}),[e]),{progress:n,error:o,url:g}}(t),s=r.progress,i=r.url;return Object(a.useEffect)(Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(100!=s||!i){e.next=4;break}return console.log(i),e.next=4,c(null);case 4:case"end":return e.stop()}}),e)}))),[i]),Object(a.useEffect)((function(){console.log(t)}),[t]),Object(n.jsxs)("div",{className:"progress-bar",style:{width:"".concat(s,"%")},children:[Math.round(s),"%"]})};var h=c(18);function v(e){var t=e.setSelectedImg,c=function(e){var t=Object(a.useState)([]),c=Object(u.a)(t,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){var t=b.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(d.a)({id:e.id},e.data()))})),r(t)}));return function(){return t()}}),[e]),{pictureList:n}}("pictures").pictureList,r=Object(a.useState)(null),s=Object(u.a)(r,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){var e=[];c.forEach((function(t){e.push(t.url)})),e&&e.length===c.length&&o(e)}),[c]),Object(n.jsx)("div",{className:"pictures",children:i&&i.length===c.length&&i.map((function(e,c){return Object(n.jsx)(h.a.div,{className:"picture",onClick:function(){return t(e)},children:Object(n.jsx)("img",{src:e,alt:"pic no. ".concat(c+1)})},e.id)}))})}c(16);function x(e){var t=e.setSelectedImg,c=Object(a.useState)(null),r=Object(u.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(null),l=Object(u.a)(o,2),d=l[0],p=l[1];Object(a.useEffect)(Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}),e)}))),[s]);var b=["image/png","image/jpeg","image/jpeg"],m=function(){var e=Object(f.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=t.target.files[0])&&b.includes(c.type)?(i(c),p(null)):(i(null),p("Please select an image file(png/jpg/jpeg)"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(a.Fragment,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"title",children:["Your Pictures",Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. "}),Object(n.jsx)("input",{className:"upload-btn",type:"file",onChange:m}),d&&Object(n.jsx)("p",{className:"error",children:d}),s&&Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("p",{className:"file-name",children:s.name}),Object(n.jsx)(O,{file:s,setFile:i})," "]}),!s&&Object(n.jsx)("div",{className:"spacer",children:" "})]}),Object(n.jsx)(v,{setSelectedImg:t})]})})}function S(e){var t=e.selectedImg,c=e.setSelectedImg;return Object(n.jsx)("div",{className:"modal-backdrop",onClick:function(e){e.target.classList.contains("modal-backdrop")&&c(null)},children:Object(n.jsx)("img",{src:t,alt:"selectedImg"})})}function N(e){var t=Object(a.useState)(null),c=Object(u.a)(t,2),r=c[0],s=c[1];return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)(o,{}),Object(n.jsx)(x,{setSelectedImg:s}),r&&Object(n.jsx)(S,{selectedImg:r,setSelectedImg:s})]})}var w=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(N,{})})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),I()}},[[31,1,2]]]);
//# sourceMappingURL=main.7a817f94.chunk.js.map